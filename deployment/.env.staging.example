# CaseGuard Staging Environment Configuration
# Copy this to .env on the staging server

# Database Configuration (Staging-specific)
POSTGRES_PASSWORD=caseguard_staging_secure_password_2025
POSTGRES_PORT=5433

# Redis/Valkey Configuration (Staging-specific)
REDIS_PASSWORD=caseguard_redis_staging_secure_2025
REDIS_PORT=6380

# Prefect Configuration (Staging-specific)
PREFECT_PORT=4201

# API Configuration (Staging-specific)
API_PORT=8001
SECRET_KEY=staging_256_bit_secret_key_here_change_this
JWT_SECRET=staging_jwt_secret_key_here_change_this

# External API Keys (Use staging/test keys when available)
OPENAI_API_KEY=sk-your_openai_api_key_here
PINECONE_API_KEY=your_pinecone_api_key_here
LLAMA_CLOUD_API_KEY=llx_your_llama_cloud_api_key_here

# Proclaim CRM Configuration (Staging/Test instance)
PROCLAIM_BASE_URL=http://52.158.28.226:8085
PROCLAIM_USERNAME=staging_proclaim_username
PROCLAIM_PASSWORD=staging_proclaim_password
PROCLAIM_WSDL_PATH=Proclaim.wsdl
SOAP_REQUEST_DELAY_MS=500

# Session Management (Staging-specific)
PROCLAIM_SESSION_TIMEOUT_HOURS=6
PROCLAIM_SESSION_FILE_PATH=/opt/caseguard-staging/.caseguard/proclaim_session.json

# DigitalOcean Spaces Configuration (Staging bucket)
SPACES_BUCKET=caseguard-documents-staging
SPACES_REGION=nyc3
SPACES_ENDPOINT_URL=https://nyc3.digitaloceanspaces.com
SPACES_PROFILE=digitalocean
SPACES_ACCESS_KEY=your_staging_spaces_access_key
SPACES_SECRET_KEY=your_staging_spaces_secret_key

# Canonical Field Mapping
CANONICAL_FIELDS_CONFIG_PATH=config/canonical_fields_corrected.json

# Monitoring Configuration (Staging ports)
GRAFANA_PORT=3001
GRAFANA_PASSWORD=staging_grafana_admin_password
PROMETHEUS_PORT=9091

# Worker Configuration (Reduced for staging)
WORKER_REPLICAS=1
MAX_WORKERS=2
WORKER_TIMEOUT=120

# Application Settings
CASEGUARD_ENV=staging
LOG_LEVEL=DEBUG

# Optional: Slack Integration (Staging webhook)
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/STAGING/WEBHOOK

# Security Headers
ALLOWED_HOSTS=caseguard-staging.vynta.ai,178.62.78.12,localhost

# Performance Tuning (Reduced for staging)
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=5
REDIS_MAX_CONNECTIONS=25

# Backup Configuration (Staging bucket)
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=caseguard-backups-staging
AWS_ACCESS_KEY_ID=your_staging_aws_access_key
AWS_SECRET_ACCESS_KEY=your_staging_aws_secret_key

# SSL Configuration
SSL_CERT_PATH=/etc/letsencrypt/live/caseguard-staging.vynta.ai/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/caseguard-staging.vynta.ai/privkey.pem

# Multi-tenant Configuration
DEFAULT_TENANT=fdm_solicitors
TENANT_ISOLATION_STRICT=true

# Rate Limiting (More restrictive for staging)
RATE_LIMIT_PER_MINUTE=30
RATE_LIMIT_BURST=5

# Job Queue Configuration (Reduced for staging)
MAX_CONCURRENT_JOBS=10
JOB_TIMEOUT_SECONDS=3600
RETRY_ATTEMPTS=3

# Vector Database Configuration
VECTOR_DIMENSION=3072
CHUNK_SIZE=800
CHUNK_OVERLAP=100

# File Processing
MAX_FILE_SIZE_MB=50
SUPPORTED_FORMATS=pdf,doc,docx,txt,rtf,eml,msg,xls,xlsx

# AI Configuration (Use cheaper models for staging if available)
DEFAULT_AI_MODEL=gpt-4o-mini
AI_TEMPERATURE=0.1
AI_MAX_TOKENS=4000
AI_TIMEOUT_SECONDS=60

# Monitoring and Alerting (Staging thresholds)
HEALTH_CHECK_INTERVAL=60
ERROR_THRESHOLD=0.1
LATENCY_THRESHOLD_SECONDS=60
ALERT_EMAIL=staging-alerts@vynta.ai

# Data Retention (Shorter for staging)
CASE_DATA_RETENTION_YEARS=2
VECTOR_DATA_RETENTION_YEARS=1
LOG_RETENTION_DAYS=30

# Compliance (GDPR)
GDPR_COMPLIANCE=true
DATA_ENCRYPTION=AES-256
AUDIT_LOGGING=true
PERSONAL_DATA_RETENTION_YEARS=6

# Staging-specific flags
DEBUG_MODE=true
ENABLE_PROFILING=true
MOCK_EXTERNAL_APIS=false